---
title: 17. 电话号码的字母组合
tags: [LeetCode]
categories:
  - 算法
  - LeetCode力扣
  - Medium
index_img: /img/leetcode.jpeg
date: 2022/10/18 00:58:23
---

#### [17. 电话号码的字母组合](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/description/)

#### 思路

##### 回溯法

![以23为例的所有路径](https://raw.githubusercontent.com/yu980219/image-host/master/hexo/202411240304056.png)

其实就是遍历这颗树的所有路径

当遍历到ad时，结果集加入结果，退回到a，要进行撤销选择，也就是删掉d，继续从a做出其他选择。

#### 公式

> result = []
> def backtrack(路径, 选择列表):
>
> ​    if 满足结束条件:
> ​        result.add(路径)
> ​        return
>
> ​    for 选择 in 选择列表:
> ​        做选择（排除不合法的选择）
> ​        backtrack(路径, 选择列表)
> ​        撤销选择

#### 代码

```java
public List<String> letterCombinations(String digits) {

        if (digits.length() == 0) {
            return new ArrayList<String>();
        }

        Map<String,String[]> letterMap = new HashMap<>(8);
        letterMap.put("2",new String[]{"a","b","c"});
        letterMap.put("3",new String[]{"d","e","f"});
        letterMap.put("4",new String[]{"g","h","i"});
        letterMap.put("5",new String[]{"j","k","l"});
        letterMap.put("6",new String[]{"m","n","o"});
        letterMap.put("7",new String[]{"p","q","r","s"});
        letterMap.put("8",new String[]{"t","u","v"});
        letterMap.put("9",new String[]{"w","x","y","z"});

        String[] digitsArr = digits.split("");
    	// 结果集
        List<String> resultList = new ArrayList<>();
    	// 路径的最顶端，就是空串
        String s = "";
    	// 开始回溯，路径s，选择列表letterMap.get(digitsArr[0])，结果集resultList
        backTrack(s,digitsArr,0,letterMap,resultList);

        return resultList;
    }


    public static void backTrack(String s,String[] digitsArr, int deep, Map<String, String[]> letterMap, List<String> resultList) {
        
        // 结束条件：如果深度大于树深，结束。
        if(deep==digitsArr.length){
            // result.add(路径)
            resultList.add(s);
            return;
        }

        // 选择列表，当前路径下的几种选择。
        String[] chooseArr = letterMap.get(digitsArr[deep]);

		// for 选择 in 选择列表:
        deep++;
        for (int i = 0; i < chooseArr.length; i++) {
            // 做选择
            s += chooseArr[i];
            // 继续往下一层走
            backTrack(s,digitsArr,deep,letterMap,resultList);
            // 撤销选择
            s = s.substring(0,s.length()-1);

        }
    }
```



