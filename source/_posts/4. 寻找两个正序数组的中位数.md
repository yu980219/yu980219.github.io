---
title: 4. 寻找两个正序数组的中位数
tags: [LeetCode]
categories:
  - 算法
  - LeetCode力扣
  - Hard
index_img: /img/leetcode.jpeg
date: 2022/10/08 15:26:47
---

#### [4. 寻找两个正序数组的中位数](https://leetcode.cn/problems/median-of-two-sorted-arrays/)

##### 解析：

这道题要求时间复杂度为O(LOG(N+M))

所以肯定不是两个数组全都遍历完，不然就是O(M+N)了

但其实不需要真的全部遍历完，我们只需要找到中位数，遍历到中位数的位置停下即可。

也就是只遍历一半就找到了中位数。

##### 代码：

```java
public double findMedianSortedArrays(int[] nums1, int[] nums2) {
    // 中位数定义：如果是奇数则中位数就是sum/2,如果是偶数(sum/2-1+sum/2)/2.0
    int sum = nums1.length + nums2.length;
    // n1,n2分别代表两个数组的指针，
    // 每次遍历完，都把较小的值赋给val2，下次遍历开始，val2赋值给val1，让val1~val2是由小到大挨着的，相当于栈。后面推进去，前面推出来。
    int n1 = 0, n2 = 0, val1 = 0, val2 = 0;
    // 遍历到中位数，停止
    while (n1 + n2 <= sum / 2) {
        // 赋值阶段，两个数组指针开始移动对比，哪个指针小，哪个就赋值给val2，如果一个数组全部遍历完毕，接下来再另一个数组里指针一个一个往后指即可。
        val1 = val2;
        if (n1 == nums1.length) {
            val2 = nums2[n2++];
        } else if (n2 == nums2.length) {
            val2 = nums1[n1++];
        } else if (nums1[n1] < nums2[n2]) {
            val2 = nums1[n1++];
        } else {
            val2 = nums2[n2++];
        }
    }
    return sum % 2 != 0 ? val2 : (val1 + val2) / 2.0;
}
```